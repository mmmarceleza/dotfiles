# Load a kubeconfig file of a Kubernetes cluster

kcfg () 
{ 
    if [ $# -eq 0 ]; then
        unset KUBECONFIG;
        return;
    fi;
    if ! [ -e "$1" ]; then
        echo Creating kubeconfig: $1;
        touch $1;
    fi;
    export KUBECONFIG="$(realpath $1)";
    echo Using kubeconfig: $KUBECONFIG;
    chmod 700 $KUBECONFIG
}

# Decoding JSON Web Tokens (JWTs) from the Linux command line

jwtd() {
    if [[ -x $(command -v jq) ]]; then
         jq -R 'split(".") | .[0],.[1] | @base64d | fromjson' <<< "${1}"
         echo "Signature: $(echo "${1}" | awk -F'.' '{print $3}')"
    fi
}
